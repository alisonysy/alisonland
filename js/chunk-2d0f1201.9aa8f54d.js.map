{"version":3,"sources":["webpack:///./src/blog_md/030420-js-decorator.md?8579","webpack:///./src/blog_md/030420-js-decorator.md"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","_v","pre","attrs","v-pre","class","script","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0f1201.9aa8f54d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h2',[_vm._v(\"装饰器 - decorator\")]),_c('p',[_vm._v(\"装饰器是一个接收另一个函数并改变他原函数行为的封装函数。\")]),_c('p',[_c('strong',[_vm._v(\"装饰器的优势\")]),_vm._v(\"：\")]),_c('ul',[_c('li',[_vm._v(\"可重复利用\")]),_c('li',[_vm._v(\"逻辑是独立的，与接收到的函数互不影响\")]),_c('li',[_vm._v(\"可以组合其他装饰器一起使用\")])]),_c('p',[_c('strong',[_vm._v(\"装饰器的不足\")]),_vm._v(\"：\")]),_c('ul',[_c('li',[_vm._v(\"若原函数有自身的属性，装饰器返回的封装函数将不会有这些属性，但可以通过创建一个\"),_c('code',{pre:true},[_vm._v(\"Proxy\")]),_vm._v(\"对象把属性包含进去\")])]),_c('p',[_vm._v(\"e.g. 缓存装饰器\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-js\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"cachingDecorator\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"func\")]),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" cache = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"Map\")]),_vm._v(\"();\\n\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"x\")]),_vm._v(\") \")]),_vm._v(\"{\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"if\")]),_vm._v(\" (cache.has(x)) {    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// if there's such key in cache\")]),_vm._v(\"\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" cache.get(x); \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// read the result from it\")]),_vm._v(\"\\n    }\\n\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" result = func(x);  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// otherwise call func\")]),_vm._v(\"\\n\\n    cache.set(x, result);  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// and cache (remember) the result\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" result;\\n  };\\n}\\n\")])]),_c('p',[_vm._v(\"他返回的是一个缓存的封装函数，以便各种函数都可以使用。\")]),_c('p',[_vm._v(\"当原函数为一个\"),_c('em',[_vm._v(\"对象里的方法\")]),_vm._v(\"，并且有使用\"),_c('code',{pre:true},[_vm._v(\"this\")]),_vm._v(\"时，装饰器返回的wrapper function里调用原函数时需要用到\"),_c('code',{pre:true},[_vm._v(\"func.call(context[,arg[0],arg[1],...arg[n]])\")]),_vm._v(\"或\"),_c('code',{pre:true},[_vm._v(\"func.apply(context,args)\")]),_vm._v(\"。\\ne.g.\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-js\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" o = {\\n  method(arg1,arg2){\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" arg1 + arg2;\\n  }\\n}\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"cachingDecorator\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"func, hash\")]),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" cache = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"new\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"Map\")]),_vm._v(\"();\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}}),_vm._v(\") \")]),_vm._v(\"{\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" key = hash(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"arguments\")]),_vm._v(\"); \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 当原函数接收多个参数时，设置缓存key可以是这些参数的集合\")]),_vm._v(\"\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"if\")]),_vm._v(\" (cache.has(key)) {\\n      \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" cache.get(key);\\n    }\\n\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" result = func.call(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"this\")]),_vm._v(\", ...arguments); \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 或是func.apply(this, arguments)；此处直接使用this是因为函数调用时的this指向o对象\")]),_vm._v(\"\\n\\n    cache.set(key, result);\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" result;\\n  };\\n}\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"hash\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"args\")]),_vm._v(\") \")]),_vm._v(\"{ \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// arguments是一个数组或类数组\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" [].join.call(args); \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"//[].join.call()是把一个数组中的join方法通过call应用到另一个对象上，该对象必须有0, 1, 2, ...n的属性，以及length\")]),_vm._v(\"\\n}\\n\\nworker.slow = cachingDecorator(worker.slow, hash);\\n\")])]),_c('h3',[_vm._v(\"其他例子\")]),_c('h4',[_vm._v(\"spy decorator\")]),_c('p',[_vm._v(\"保存每次调用的函数的参数，可用于单元测试\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\",\"class\":\"language-js\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"spy\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"func\")]),_vm._v(\") \")]),_vm._v(\"{\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"const\")]),_vm._v(\" inner = \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}}),_vm._v(\")\")]),_vm._v(\"{\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" args = [];\\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"for\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" n=\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"0\")]),_vm._v(\";n<\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"arguments\")]),_vm._v(\".length;n++){\\n      args.push(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"arguments\")]),_vm._v(\"[n]);\\n    }\\n    inner.calls.push(args);\\n    \\n    \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" func.apply(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"this\")]),_vm._v(\",\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-built_in\"}},[_vm._v(\"arguments\")]),_vm._v(\");\\n  }\\n  inner.calls = []; \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 初始化函数inner的属性，该属性应设置在返回的函数身上\")]),_vm._v(\"\\n  \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"return\")]),_vm._v(\" inner;\\n}\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-function\"}},[_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"function\")]),_vm._v(\" \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-title\"}},[_vm._v(\"work\")]),_vm._v(\"(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-params\"}},[_vm._v(\"a, b\")]),_vm._v(\") \")]),_vm._v(\"{\\n  alert( a + b ); \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// work is an arbitrary function or method\")]),_vm._v(\"\\n}\\n\\nwork = spy(work);\\n\\nwork(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"1\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"2\")]),_vm._v(\"); \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 3\")]),_vm._v(\"\\nwork(\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"4\")]),_vm._v(\", \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-number\"}},[_vm._v(\"5\")]),_vm._v(\"); \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// 9\")]),_vm._v(\"\\n\\n\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"for\")]),_vm._v(\" (\"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"let\")]),_vm._v(\" args \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-keyword\"}},[_vm._v(\"of\")]),_vm._v(\" work.calls) {\\n  alert( \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-string\"}},[_vm._v(\"'call:'\")]),_vm._v(\" + args.join() ); \"),_c('span',{pre:true,attrs:{\"class\":\"hljs-comment\"}},[_vm._v(\"// \\\"call:1,2\\\", \\\"call:4,5\\\"\")]),_vm._v(\"\\n}\\n\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./030420-js-decorator.md?vue&type=template&id=659ce140&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}