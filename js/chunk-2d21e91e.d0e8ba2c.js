(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e91e"],{d5b9:function(s,e,a){"use strict";a.r(e);var r=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},l=[function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("section",[a("p",[s._v("Babel是个编译器，用于将源码转换为输出代码。流程有3个阶段：解析，转换，生成和输出。\nBabel本身只是解析源码和生成与原本一样的代码，再输出，真正转换的靠插件去完成。")]),a("h3"),a("p",[s._v("插件用于把高级的语法转换成低级的语法，babel提供一系列的插件－preset，而无需一个个添加。在NPM上的插件可以通过")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-json"}},[s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v('"plugins"')]),s._v(":["),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"babel-plugin-myPlugin"')]),s._v("]\n}\n")])]),a("p",[s._v("来指定。\n插件比"),a("em",[s._v("预设")]),s._v("先执行，插件的执行顺序是从左到右，从前往后，而预设的正好相反。\n可以通过"),a("code",{pre:!0},[s._v("module.exports")]),s._v("导出对象来创建预设")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".exports = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("presets")]),s._v(":[ "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// preset can contain other presets")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@babel/preset-env"')]),s._v("),\n  ],\n  "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("plugins")]),s._v(":[\n    ["),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@babel/plugin-proposal-class-properties"')]),s._v("),{"),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("loose")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("}],\n    "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("require")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v('"@babel/plugin-proposal-object-rest-spread"')]),s._v(")\n  ]\n}\n")])]),a("h3",[a("code",{pre:!0},[s._v("@babel/runtime")])]),a("p",[a("code",{pre:!0},[s._v("@babel/runtime")]),s._v("是一个包含Babel模块运行时辅助函数和"),a("code",{pre:!0},[s._v("regenerator-runtime")]),s._v("版本的库，它以模块的形式实现对应的函数。它的作用是把Babel注入的相同的代码提取出来复用，例如对类"),a("code",{pre:!0},[s._v("class Circle{}")]),s._v("的转码中，Babel会将其转换成：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("_classCallCheck")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("instance,constructor")]),s._v(")")]),s._v("{\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//...")]),s._v("\n}\n\n"),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("var")]),s._v(" Circle = "),a("span",{pre:!0,attrs:{class:"hljs-function"}},[a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v(" "),a("span",{pre:!0,attrs:{class:"hljs-title"}},[s._v("Circle")]),s._v("("),a("span",{pre:!0,attrs:{class:"hljs-params"}}),s._v(")")]),s._v("{\n  _classCallCheck("),a("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(",Circle);\n}\n")])]),a("p",[s._v("如此一来，每个使用到ES6的类的文件都会有"),a("code",{pre:!0},[s._v("_classCallCheck")]),s._v("函数，此时"),a("code",{pre:!0},[s._v("@babel/runtime")]),s._v("和"),a("code",{pre:!0},[s._v("@babel/plugin-transform-runtime")]),s._v("就会把每个文件重复的部分，改为对重复函数的引用，如："),a("code",{pre:!0},[s._v('var _classCallCheck = require("@babel/runtime/helpers/classCallCheck");')]),s._v("。\n"),a("code",{pre:!0},[s._v("@babel/runtime")]),s._v("作为运行时依赖，与"),a("code",{pre:!0},[s._v("@babel/plugin-transform-runtime")]),s._v("一起使用。")]),a("h2",[s._v("Babel的使用")]),a("p",[s._v("默认的"),a("code",{pre:!0},[s._v("Browserslist")]),s._v("是"),a("code",{pre:!0},[s._v("> 0.5%, last 2 versions, Firefox ESR, not dead")])]),a("blockquote",[a("p",[s._v("*Firefox ESR(Extended Support Release)*是官方为了如高校、企业等大型机构开发的，以满足大规模建立和维护Firefox的需求，Firefox ESR没有最新的特性，但有最新的安全稳定性能修复。")])]),a("ul",[a("li",[s._v("单独使用")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("@babel/cli")]),s._v("安装核心的babel逻辑和babel命令")]),a("li",[a("code",{pre:!0},[s._v("@babel/preset-env")]),s._v("告诉babel要转译什么和怎样转译")])]),a("ul",[a("li",[s._v("与webpack一起使用")])]),a("ul",[a("li",[a("code",{pre:!0},[s._v("webpack")]),s._v("是核心Webpack代码，而"),a("code",{pre:!0},[s._v("webpack-cli")]),s._v("用于安装webpakc命令")]),a("li",[a("code",{pre:!0},[s._v("@babel/core")]),s._v("是核心Babel代码，"),a("code",{pre:!0},[s._v("babel-loader")]),s._v("是它的peer dependency")]),a("li",[a("code",{pre:!0},[s._v("babel/loader")]),s._v("告诉Webpack如何使用Babel转译文件")]),a("li",[a("code",{pre:!0},[s._v("@babel/preset-env")]),s._v("帮助Babel知道需要转译什么和怎么转译")])]),a("p",[s._v("除了"),a("code",{pre:!0},[s._v(".babelrc")]),s._v("，还需要配置"),a("code",{pre:!0},[s._v("webpack.config.js")]),s._v("：")]),a("pre",{pre:!0},[a("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(".exports = {\n  "),a("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//... other config")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("module")]),s._v(":{\n    "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(":[{\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("test")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\.js$/")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("exclude")]),s._v(": "),a("span",{pre:!0,attrs:{class:"hljs-regexp"}},[s._v("/\\/node_modules\\//")]),s._v(",\n      "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("use")]),s._v(":{\n        "),a("span",{pre:!0,attrs:{class:"hljs-attr"}},[s._v("loader")]),s._v(":"),a("span",{pre:!0,attrs:{class:"hljs-string"}},[s._v("'babel-loader'")]),s._v("\n      }\n    }]\n  }\n}\n")])])])}],t=a("2877"),p={},n=Object(t["a"])(p,r,l,!1,null,null,null);e["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d21e91e.d0e8ba2c.js.map