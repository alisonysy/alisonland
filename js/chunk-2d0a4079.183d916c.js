(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a4079"],{"0564":function(s,e,n){"use strict";n.r(e);var t=function(){var s=this,e=s.$createElement;s._self._c;return s._m(0)},a=[function(){var s=this,e=s.$createElement,n=s._self._c||e;return n("section",[n("h2",[s._v("Bug 1 - 在render()中定义的变量渲染时变成"),n("code",{pre:!0},[s._v("undefined")])]),n("p",[s._v("在页面聚焦时发送数据请求，然后保存到"),n("code",{pre:!0},[s._v("this.state")]),s._v("后，在"),n("code",{pre:!0},[s._v("render()")]),s._v("方法中再重新定义变量，能通过"),n("code",{pre:!0},[s._v("console.log")]),s._v("获取数据，但直接操作时却返回"),n("code",{pre:!0},[s._v("undefined is not an object")]),s._v("的错误——")]),n("ul",[n("li",[n("code",{pre:!0},[s._v("console.log")]),s._v("有数据返回：")])]),n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("render(){\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {options} = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".state;\n  "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(options) "),n("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//有结果")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n    ... "),n("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//与options无关的渲染")]),s._v("\n  )\n}\n")])]),n("ul",[n("li",[s._v("对变量进行"),n("em",[s._v("操作")]),s._v("或"),n("em",[s._v("渲染")]),s._v("时，返回"),n("code",{pre:!0},[s._v("undefined")])])]),n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("render() {\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {options} = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".state;\n  "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("Object")]),s._v(".keys(options).map( "),n("span",{pre:!0,attrs:{class:"hljs-function"}},[n("span",{pre:!0,attrs:{class:"hljs-params"}},[s._v("i")]),s._v(" =>")]),s._v(" "),n("span",{pre:!0,attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log(i))\n  "),n("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// Error: undefined is not an object")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n    ... "),n("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("//与options无关的渲染")]),s._v("\n  )\n}\n")])]),n("h3",[s._v("原因和解决办法")]),n("p",[n("strong",[s._v("原因")]),s._v("：由于数据请求是异步操作，首次渲染时，数据并未获取到，所以返回undefined；"),n("code",{pre:!0},[s._v("console.log")]),s._v("里能显示的数据是首次渲染完成并获取到数据后再返回的\n"),n("strong",[s._v("解决办法")]),s._v("：通过"),n("span",{staticClass:"postRelated"},[s._v("Conditional Rendering")]),s._v("，当数据还没获取时，不渲染；获取到数据后才进行渲染")]),n("pre",{pre:!0},[n("code",{pre:!0,attrs:{"v-pre":"",class:"language-js"}},[s._v("render(){\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" {options} = "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".state;\n  "),n("span",{pre:!0,attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" (\n    {\n      options? "),n("span",{pre:!0,attrs:{class:"xml"}},[n("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),n("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Text")]),s._v(">")]),s._v("{options.name}"),n("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),n("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Text")]),s._v(">")])]),s._v(" : "),n("span",{pre:!0,attrs:{class:"hljs-literal"}},[s._v("null")]),s._v("\n    }\n\n    "),n("span",{pre:!0,attrs:{class:"hljs-comment"}},[s._v("// or")]),s._v("\n    { options && "),n("span",{pre:!0,attrs:{class:"xml"}},[n("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("<"),n("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Text")]),s._v(">")]),s._v("{options.name}"),n("span",{pre:!0,attrs:{class:"hljs-tag"}},[s._v("</"),n("span",{pre:!0,attrs:{class:"hljs-name"}},[s._v("Text")]),s._v(">")])]),s._v("}\n  )\n}\n")])])])}],r=n("2877"),p={},l=Object(r["a"])(p,t,a,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-2d0a4079.183d916c.js.map