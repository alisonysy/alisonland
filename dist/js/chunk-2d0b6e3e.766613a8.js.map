{"version":3,"sources":["webpack:///./src/blog_md/170619-reactjs-refs-and-dom.md?e0a1","webpack:///./src/blog_md/170619-reactjs-refs-and-dom.md"],"names":["render","_vm","this","_h","$createElement","_self","_c","_m","staticRenderFns","_v","pre","attrs","v-pre","script","component","Object","componentNormalizer","__webpack_exports__"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BH,EAAAI,MAAAC,GAAwB,OAAAL,EAAAM,GAAA,IACzFC,EAAA,YAAoC,IAAAP,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BE,EAAAL,EAAAI,MAAAC,IAAAH,EAAwB,OAAAG,EAAA,WAAAA,EAAA,MAAAL,EAAAQ,GAAA,mBAAAH,EAAA,QAAmEI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,cAAAR,EAAAQ,GAAA,iBAAAH,EAAA,KAAAL,EAAAQ,GAAA,mCAAAH,EAAA,QAA4GI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,WAAAR,EAAAQ,GAAA,4BAAAH,EAAA,QAAkEI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,UAAAR,EAAAQ,GAAA,OAAAH,EAAA,MAAAL,EAAAQ,GAAA,UAAAH,EAAA,MAAAA,EAAA,MAAAL,EAAAQ,GAAA,0BAAAH,EAAA,MAAAL,EAAAQ,GAAA,aAAAH,EAAA,MAAAL,EAAAQ,GAAA,kBAAAH,EAAA,MAAAL,EAAAQ,GAAA,wBAAAH,EAAA,MAAAL,EAAAQ,GAAA,YAAAH,EAAA,OAA2PI,KAAA,GAAS,CAAAJ,EAAA,QAAaI,KAAA,EAAAC,MAAA,CAAgBC,QAAA,KAAY,CAAAX,EAAAQ,GAAA,mMAAmMH,EAAA,MAAAL,EAAAQ,GAAA,YAAAH,EAAA,KAAAL,EAAAQ,GAAA,oBAAAH,EAAA,QAAmFI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,2BAAAH,EAAA,QAA+DI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,wBAAAR,EAAAQ,GAAA,WAAAH,EAAA,OAA6DI,KAAA,GAAS,CAAAJ,EAAA,QAAaI,KAAA,EAAAC,MAAA,CAAgBC,QAAA,KAAY,CAAAX,EAAAQ,GAAA,0CAA0CH,EAAA,MAAAA,EAAA,QAA6BI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,4BAAAH,EAAA,MAAAA,EAAA,MAAAL,EAAAQ,GAAA,cAAAH,EAAA,QAAuGI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,WAAAH,EAAA,MAAAL,EAAAQ,GAAA,WAAAH,EAAA,QAA0EI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,UAAAH,EAAA,QAA8CI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,uBAAAR,EAAAQ,GAAA,KAAAH,EAAA,QAAuDI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,wBAAAR,EAAAQ,GAAA,QAAAH,EAAA,MAAAL,EAAAQ,GAAA,kBAAAH,EAAA,QAA6FI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,WAAAH,EAAA,MAAAL,EAAAQ,GAAA,YAAAR,EAAAQ,GAAA,WAAAH,EAAA,QAA6FI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,oBAAAR,EAAAQ,GAAA,4BAAAH,EAAA,QAA2EI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,yCAAAR,EAAAQ,GAAA,qBAAAH,EAAA,QAAyFI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,gCAAAH,EAAA,UAAAL,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,wBAAAH,EAAA,OAA8HI,KAAA,GAAS,CAAAJ,EAAA,QAAaI,KAAA,EAAAC,MAAA,CAAgBC,QAAA,KAAY,CAAAX,EAAAQ,GAAA,8KAA8KH,EAAA,KAAAL,EAAAQ,GAAA,YAAAH,EAAA,MAAAL,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,qBAAAH,EAAA,UAAAL,EAAAQ,GAAA,QAAAR,EAAAQ,GAAA,OAAAH,EAAA,MAAAL,EAAAQ,GAAA,mBAAAH,EAAA,KAAAL,EAAAQ,GAAA,gBAAAH,EAAA,QAA+MI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,SAAAR,EAAAQ,GAAA,WAAAH,EAAA,QAA+CI,KAAA,GAAS,CAAAT,EAAAQ,GAAA,iBAAAR,EAAAQ,GAAA,2DAAAH,EAAA,OAAsGI,KAAA,GAAS,CAAAJ,EAAA,QAAaI,KAAA,EAAAC,MAAA,CAAgBC,QAAA,KAAY,CAAAX,EAAAQ,GAAA,qZAAuZH,EAAA,KAAAL,EAAAQ,GAAA,+BAAAH,EAAA,OAAiEI,KAAA,GAAS,CAAAJ,EAAA,QAAaI,KAAA,EAAAC,MAAA,CAAgBC,QAAA,KAAY,CAAAX,EAAAQ,GAAA,6QCA9oGI,EAAA,GAKAC,EAAgBC,OAAAC,EAAA,KAAAD,CAChBF,EACEb,EACAQ,GACF,EACA,KACA,KACA,MAIeS,EAAA,WAAAH","file":"js/chunk-2d0b6e3e.766613a8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h3',[_vm._v(\"Refs用于获取DOM节点或在\"),_c('code',{pre:true},[_vm._v(\"render()\")]),_vm._v(\"里渲染的React组件\")]),_c('p',[_vm._v(\"在正常的React数据流中，父组件和子组件交互的唯一方法是通过\"),_c('code',{pre:true},[_vm._v(\"props\")]),_vm._v(\"；想要跨过dataflow直接改变子组件，需要用\"),_c('code',{pre:true},[_vm._v(\"Refs\")]),_vm._v(\"。\")]),_c('h3',[_vm._v(\"应用场景\")]),_c('ul',[_c('li',[_vm._v(\"处理focus, 文本选择，或是媒体播放\")]),_c('li',[_vm._v(\"触发即兴的动画\")]),_c('li',[_vm._v(\"与第三方DOM库整合\")])]),_c('h2',[_vm._v(\"React.js版本 >= 16.3\")]),_c('h3',[_vm._v(\"创建Refs\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"class MyComponent extends React.Component {\\n  constructor(props){\\n    super(props);\\n    this.myRef = React.createRef();\\n  }\\n  render(){\\n    return <div ref={this.myRef} />\\n  }\\n}\\n\")])]),_c('h3',[_vm._v(\"获取Refs\")]),_c('p',[_vm._v(\"当ref在render()中通过\"),_c('code',{pre:true},[_vm._v(\"ref\")]),_vm._v(\"属性(attribute)传递给组件后，可通过\"),_c('code',{pre:true},[_vm._v(\"this.myRef.current\")]),_vm._v(\"获取节点：\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"const node = this.myRef.current;\\n\")])]),_c('h4',[_c('code',{pre:true},[_vm._v(\"ref\")]),_vm._v(\"用在HTML元素或自定义class组件的不同\")]),_c('ol',[_c('li',[_vm._v(\"用在HTML元素时，\"),_c('code',{pre:true},[_vm._v(\"ref\")]),_vm._v(\"接收的是对应的\"),_c('em',[_vm._v(\"DOM元素\")]),_c('code',{pre:true},[_vm._v(\"ref\")]),_vm._v(\"的更新发生在\"),_c('code',{pre:true},[_vm._v(\"componentDidMount\")]),_vm._v(\"或\"),_c('code',{pre:true},[_vm._v(\"componentDidUpdate\")]),_vm._v(\"之前\")]),_c('li',[_vm._v(\"用在自定义class组件时，\"),_c('code',{pre:true},[_vm._v(\"ref\")]),_vm._v(\"接收的是该组件\"),_c('em',[_vm._v(\"已挂载的实例\")]),_vm._v(\"\\n若把创建的\"),_c('code',{pre:true},[_vm._v(\"this.textInput\")]),_vm._v(\"的ref用于class定义的组件身上，可通过调用\"),_c('code',{pre:true},[_vm._v(\"this.textInput.current.methodName()\")]),_vm._v(\"调用子组件里的方法\\nNote: \"),_c('code',{pre:true},[_vm._v(\"ref\")]),_vm._v(\"不能用于函数组件(function component)\"),_c('strong',[_vm._v(\"身上\")]),_vm._v(\"，因为他们不能生成实例，i.e.\")])]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"function Child(){\\n  return <input />\\n}\\nclass Parent extends React.Component{\\n  ...\\n  render(){\\n    // This will NOT work\\n    return <Child ref={...}>\\n  }\\n}\\n\")])]),_c('p',[_vm._v(\"但可用于函数组件\"),_c('em',[_vm._v(\"里面\")]),_vm._v(\"的DOM元素或class定义的组件\"),_c('strong',[_vm._v(\"身上\")]),_vm._v(\"。\")]),_c('h3',[_vm._v(\"Callback Refs\")]),_c('p',[_vm._v(\"我们可以把一个函数传递给\"),_c('code',{pre:true},[_vm._v(\"ref\")]),_vm._v(\"属性，而不是由\"),_c('code',{pre:true},[_vm._v(\"createRef()\")]),_vm._v(\"创建的属性；该函数接收HTML DOM元素或React组件实例作为参数，这样可以把它在任何地方储存和获取。\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"class CustomTextInput extends React.Component{\\n  constructor(props){\\n    super(props);\\n    this.textInput = null;\\n    this.setTextInputRef = this.setTextInputRef.bind(this)\\n  }\\n  setTextInputRef(el){\\n    this.textInput = el;\\n  }\\n  render(){\\n    return (\\n      <div>\\n        <input \\n          type=\\\"text\\\"\\n          ref={this.setTextInputRef}\\n        />\\n      </div>\\n    )\\n  }\\n}\\n\")])]),_c('p',[_vm._v(\"还可以把callback refs在组件之间传递：\")]),_c('pre',{pre:true},[_c('code',{pre:true,attrs:{\"v-pre\":\"\"}},[_vm._v(\"function CustomTextInput(props){\\n  return (\\n    <div>\\n      <input ref={props.inputRef}>\\n    </div>\\n  )\\n}\\n\\nclass Parent extends React.Component{\\n  render(){\\n    <CustomTextInput\\n      inputRef={el => this.inputElement = el}>\\n  }\\n}\\n\")])])])}]\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./170619-reactjs-refs-and-dom.md?vue&type=template&id=83e4cee8&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}