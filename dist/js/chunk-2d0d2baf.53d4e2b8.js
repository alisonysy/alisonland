(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d2baf"],{"5a6c":function(e,n,t){"use strict";t.r(n);var o=function(){var e=this,n=e.$createElement;e._self._c;return e._m(0)},r=[function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("section",[t("h2",[e._v("JSX - a syntax extension to JavaScript")]),t("p",[e._v("React doesn’t require using JSX, but most people find it helpful as a visual aid when working with UI inside the JavaScript code.\nJSX can prevent XSS (Cross-Site-Scripting) attacks cos everthing (e.g. user input) is converted to string before being rendered.")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("const name = function(user){\n  return user.firstName + ' ' + user.lastName;\n};\nconst user = {firstName:'Ash',lastName:'Ley'};\nconst el = <h1>Hi, {name}!</h1>;\n//or for more readability, separate the markup with parentheses wrapping around\nconst el = (\n  <h1>\n    Hi, {name(user)}!\n  </h1>\n)\nReactDOM.render(\n  el,\n  document.getElementById('xxx')\n)\n")])]),t("ul",[t("li",[e._v('Quotes "" are used to specify a string literal while curly braces {} denote JS expressions.')]),t("li",[e._v("Applications built with just React usually have a SINGLE root DOM node.")]),t("li",[e._v("React elements are "),t("strong",[e._v("immutable")]),e._v(", meaning that once created, they cannot be changed. The only way to "),t("strong",[e._v("update")]),e._v(" an element is to create a new element.")]),t("li",[e._v("In React, "),t("code",{pre:!0},[e._v("class")]),e._v(" should be "),t("code",{pre:!0},[e._v("className")]),e._v(", "),t("code",{pre:!0},[e._v("tabindex")]),e._v(" should be "),t("code",{pre:!0},[e._v("tabIndex")]),e._v(".")])]),t("h2",[e._v("Function component")]),t("p",[e._v("Sometimes, we don't need to define a class for everthing, we can simply write components, and we use "),t("strong",[e._v("function components")]),e._v(" which "),t("span",{staticClass:"postDefine"},[e._v("only contain a render method and don’t have their own state.")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("function Name(props){\n  return (\n    //HTML codes here...\n  );\n}\n")])]),t("h2",[e._v("Extracting components - spliting them into smaller ones")]),t("p",[e._v("Using function components as example:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v('function comp1(props){\n  return (\n    <img className="comp1" \n      src={props.user.avatar} \n      alt={props.user.name}\n    />\n  )\n}\n\nfunction comp2(props){\n  return (\n    <div className="comp2">\n      <comp1 user={props.user} /> //user={props.user} means it passes *props.user* as the *user* object down to the component called *comp1*\n      <div className="comp2-div"> //so that *comp1* can directly use *props.user*\n        {props.user.name}\n      </div>\n    </div>\n  )\n}\n\nfunction comp3(props){\n  return (\n    <div className="comp3">\n      <comp2 **user**={props.**author**} /> //user={props.user} means it passes *props.author* as the *user* object down to the component called *comp1*\n      <div className="comp3-div"> //so that *comp2* can directly use *props.user*\n        {props.other_attr}\n      </div>\n    </div>\n  )\n}\n')])]),t("h2",[e._v("Props are read-only - should not be modified inside component function / component class")]),t("p",[e._v("Function is considered to be impure if the input is being modified:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("function withdraw(account, amount) {\n  account.total -= amount;\n}\n")])]),t("p",[e._v("Normally, the params passed to a class are called "),t("code",{pre:!0},[e._v("props")]),e._v(".\n"),t("code",{pre:!0},[e._v("key")]),e._v(" is a special and reserved property in React. It canNOT be referenced thru "),t("code",{pre:!0},[e._v("this.props.key")]),e._v(". A component cannot inquire about its key.\nWhen defining the constructor of a "),t("strong",[e._v("subclass")]),e._v(", a "),t("code",{pre:!0},[e._v("super(props)")]),e._v(" call at the start is always needed. If a component only needs "),t("code",{pre:!0},[e._v("props")]),e._v(" from its parent, it doesn't need a "),t("code",{pre:!0},[e._v("constructor")]),e._v(".")]),t("h2",[t("code",{pre:!0},[e._v("this.state")]),e._v(" And "),t("code",{pre:!0},[e._v("render()")])]),t("ul",[t("li",[e._v("To remember data for a component, we use "),t("strong",[e._v("state")]),e._v(".\n··+ We place local variables of a class inside "),t("strong",[e._v("state")]),e._v(".\n··+ If we call "),t("code",{pre:!0},[e._v("this.setState()")]),e._v(" from a handler in a component's "),t("strong",[e._v("render")]),e._v(" method, React would re-render the component (including its child components) whenever the handler is called.\nNote: inside the "),t("code",{pre:!0},[e._v("render()")]),e._v(" method, like Vue, there should be ONLY 1 root element.")])]),t("h3",[e._v("Store state in the parent component rather than child")]),t("h4",[e._v("Why we lift up the "),t("code",{pre:!0},[e._v("state")]),e._v("?")]),t("ul",[t("li",[e._v("We need a single 'source of truth' for data that changes; data may need to be rendered in multiple components")])]),t("h4",[e._v("How? --lift it up to children's closest common ancestor")]),t("ul",[t("li",[e._v("Firstly pass "),t("code",{pre:!0},[e._v("this.state.xxx")]),e._v(" down to child component within its "),t("code",{pre:!0},[e._v("renderXXX()")]),e._v(" method")]),t("li",[e._v("Then register an event handler that links to a method from the parent compoenent, note that the handler can be accessed by its child component thru "),t("code",{pre:!0},[e._v("this.props.event()")])]),t("li",[e._v("Inside the handler, a copy of the original "),t("code",{pre:!0},[e._v("this.state.xxx")]),e._v(" would be created and "),t("code",{pre:!0},[e._v("this.state.xxx")]),e._v(" would be updated")]),t("li",[e._v("As for the child component, within its "),t("code",{pre:!0},[e._v("render()")]),e._v(" method, an event handler should be registered and the callback should invoke the parent event handler, e.g.")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v('//one way to register an event handler\n<button className="square" onClick={()=>{this.props.onClick() \x3c!--this is from parent component--\x3e}}>\n  { this.props.xxx } \x3c!--this is from parent component--\x3e\n</button>\n//another way to register an event handler\n<button className="square" onClick={this.props.onClick.bind(this) \x3c!--this is from parent component--\x3e}}>\n  { this.props.xxx } \x3c!--this is from parent component--\x3e\n</button>\n')])]),t("ul",[t("li",[t("p",[e._v("Immutability is important - to create a copy of an object instead of directly modifying it\nIt can be used to\n··+ Keep previous versions\n··+ Detect changes\n··+ Determine when to re-render "),t("span",{staticClass:"postRelated"},[e._v("shouldComponentUpdate")])])]),t("li",[t("p",[e._v("While "),t("code",{pre:!0},[e._v("this.state")]),e._v(" is used to store data that participate in the data flow, you are free to add any additional properties to the component")])]),t("li",[t("p",[e._v("State updates may be "),t("strong",[e._v("asynchronous")]),e._v("\nReact may batch multiple "),t("code",{pre:!0},[e._v("setState()")]),e._v(" calls into a single update for performance.\nThe following codes would fail to update the "),t("code",{pre:!0},[e._v("counter")]),e._v(":")])])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("// Wrong\nthis.setState({\n  counter: this.state.counter + this.props.increment,\n});\n")])]),t("p",[e._v("To fix it, can replace the object with a function:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("// Correct\nthis.setState((state, props) => ({\n  counter: state.counter + props.increment\n}));\n")])]),t("div",{staticClass:"postQ"},[t("ul",{staticClass:"postQList"},[t("li",[e._v("We only register the function in this.setState(), when is it called?")]),t("li",[e._v("If setState() calls can be asynchronous, how is a function different from an object?")])])]),t("h3",[e._v("State accessibility and data flow")]),t("p",[e._v("Neither parent nor child components can know if a certain component is "),t("em",[e._v("stateful")]),e._v(" or "),t("em",[e._v("stateless")]),e._v(".\nState is often called local or encapsulated. It is NOT accessible to any component other than the one that owns and sets it. However, the component can choose to pass its state down as props to its child components.\nData flow is "),t("strong",[e._v("topdown/unidirectional")]),e._v(".")]),t("h2",[e._v("Event handling syntax")]),t("p",[e._v("In a "),t("strong",[e._v("function component")]),e._v(", the event handler attached to an element doesn't need "),t("code",{pre:!0},[e._v("this")]),e._v(":")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("function ActionLink() {\n  function handleClick(e) {\n    e.preventDefault();\n    console.log('The link was clicked.');\n  }\n\n  return (\n    <a href=\"#\" onClick={handleClick}>\n      Click me\n    </a>\n  );\n}\n\nReactDOM.render(\n  <ActionLink />,\n  document.getElementById('root')\n)\n")])]),t("p",[e._v("In contrast, inside a "),t("strong",[e._v("class")]),e._v(", the event handler needs "),t("code",{pre:!0},[e._v("this.")]),e._v(" before the function name:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v('class ActionLink extends React.Component{\n  // ... here is constructor() method\n  handleClick(e){\n    // codes here\n  }\n\n  render(){\n    return (\n      <a href="#" onClick={this.handleClick}>\n        Click me\n      </a>\n    )\n  }\n}\n')])]),t("h2",[e._v("Conditional rendering")]),t("ul",[t("li",[e._v("We may embed any expressions in JSX by wrapping them in curly braces.")]),t("li",[e._v("Use inline "),t("code",{pre:!0},[e._v("if")]),e._v(" with logical operator "),t("code",{pre:!0},[e._v("&&")]),e._v(".\nIn JavaScript, true && expression always evaluates to expression, and false && expression always evaluates to false:")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("return (\n  {\n    ...\n    { msg.length > 0 &&\n      <h1> You have {msg.length} messages to read. </h1>\n    }\n  }\n)\n")])]),t("ul",[t("li",[e._v("Use inline if-else with conditional operator "),t("code",{pre:!0},[e._v("condition ? true : false")])])]),t("h2",[e._v("Listing")]),t("p",[e._v("To render a list of elements from an array, use "),t("code",{pre:!0},[e._v("map()")]),e._v(" to return an array of elements to be rendered:")]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("function numberList(props){\n  const number = [1,2,3,4,5];\n  const numberLi = number.map((num)=>{\n    return (\n      <li key={number.toString()}>{num}</li>\n    )\n  });\n  return (\n    <ul>{numberLi}</ul>\n  )\n}\n")])]),t("p",[e._v("Note:")]),t("ul",[t("li",[t("code",{pre:!0},[e._v("props.key")]),e._v(" is NOT accessible by the component itself.")]),t("li",[e._v("When extracting "),t("code",{pre:!0},[e._v("<li>")]),e._v(" component, say, we call the extracted component "),t("code",{pre:!0},[e._v("<listItem>")]),e._v(", "),t("code",{pre:!0},[e._v("map()")]),e._v(" function should be used in the original "),t("code",{pre:!0},[e._v("<numberList>")]),e._v(" component; and we should keep the "),t("code",{pre:!0},[e._v("key")]),e._v(" in the returned array from "),t("code",{pre:!0},[e._v("map()")]),e._v(".")])]),t("pre",{pre:!0},[t("code",{pre:!0,attrs:{"v-pre":""}},[e._v("function listItem(props){\n  return (\n    <li>props.val</li>\n  )\n}\nfunction numberList(props){\n  const number = props.number;\n  const numberLi = number.map((num)=>{\n    return (\n      <listItem key={number.toString()} val={number} />\n    )\n  })\n  return (\n    <ul>{numberLi}</ul>\n  )\n}\n")])])])}],s=t("2877"),a={},i=Object(s["a"])(a,o,r,!1,null,null,null);n["default"]=i.exports}}]);
//# sourceMappingURL=chunk-2d0d2baf.53d4e2b8.js.map